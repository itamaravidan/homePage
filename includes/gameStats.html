<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Stats</title>
    <link rel="stylesheet" href="../css/gameStyle.css">
</head>
<body>
    <header>
        <h1>Wordle: Car Safety Edition - Stats</h1>
    </header>
    <main>
        <div id="playerStats" class="stats-container">
            <h2>Your Stats Summary</h2>
            <div class="stats">
                <p><strong>Average Time:</strong> <span id="averageTime">Calculating...</span></p>
                <p><strong>Average Number of Guesses:</strong> <span id="averageGuesses">Calculating...</span></p>
                <p><strong>Games Played:</strong> <span id="gamesPlayed">Calculating...</span></p>
                <p><strong>Fastest Win:</strong> <span id="fastestWin">Calculating...</span></p>
                <p><strong>Longest Game:</strong> <span id="longestGame">Calculating...</span></p>
            </div>
            <div class="insights">
                <h3>Insights</h3>
                <p id="insightTime">Are you getting faster? Time to find out!</p>
                <p id="insightGuesses">Your guessing game is strong, but is it improving?</p>
                <p id="insightStreak">Streaks are where it's at! How's yours looking?</p>
            </div>
        </div>
    </main>
    <footer class="stats-footer">
        <div class="footer-content">
            <a href="../index.html" class="footer-logo-link">
                <img src="../images/mainLogo.png" alt="Wordle: Car Safety Edition Logo" class="footer-logo" />
            </a>
        </div>
        <p class="copyright">&copy; 2024 Wordle Itamar, Hadar, and Timor. All rights reserved.</p>
    </footer>
        <script>
        window.onload = function() {
            const totalTime = parseInt(localStorage.getItem('totalTime')) || 0;
            const totalGuesses = parseInt(localStorage.getItem('totalGuesses')) || 0;
            const gamesPlayed = parseInt(localStorage.getItem('gamesPlayed')) || 0;
            const fastestWin = parseInt(localStorage.getItem('fastestWin'));
            const longestGame = parseInt(localStorage.getItem('longestGame'));

            const avgTime = gamesPlayed > 0 ? (totalTime / gamesPlayed).toFixed(2) : 'No data';
            const avgGuesses = gamesPlayed > 0 ? (totalGuesses / gamesPlayed).toFixed(2) : 'No data';

            document.getElementById('averageTime').textContent = avgTime + ' seconds';
            document.getElementById('averageGuesses').textContent = avgGuesses;
            document.getElementById('gamesPlayed').textContent = gamesPlayed;
            document.getElementById('fastestWin').textContent = fastestWin ? fastestWin + ' seconds' : 'No data';
            document.getElementById('longestGame').textContent = longestGame ? longestGame + ' seconds' : 'No data';

            const insightTime = document.getElementById('insightTime');
            const insightGuesses = document.getElementById('insightGuesses');
            const insightStreak = document.getElementById('insightStreak');

            if (gamesPlayed > 0) {
                insightTime.textContent = `Your quickest victory was in ${fastestWin} seconds. Can you beat that record?`;
                insightGuesses.textContent = `On average you guess the word in ${avgGuesses} attempts. Aim for fewer next time!`;
                insightStreak.textContent = `You've played ${gamesPlayed} games. Time to go on a winning streak!`;
            } else {
                insightTime.textContent = `Play a game to start gathering insights!`;
                insightGuesses.textContent = `Guessing insights will be shown here after you play some games.`;
                insightStreak.textContent = `Your winning streak will be tracked once you start playing.`;
            }
        };
    </script>
</body>
</html>
